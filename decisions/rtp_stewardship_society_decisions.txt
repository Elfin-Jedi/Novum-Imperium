#####
#Stewardship Society Decisions
#
#Total = 7
#####

decisions = {
	#Level 1 - Pay Off Loan
	rtp_stewardship_pp1_d = {
		is_high_prio = yes

		potential = {
			OR = {
				has_character_modifier = rtp_loan_stewarship1_em
				has_character_modifier = rtp_loan_stewarship2_em
				has_character_modifier = rtp_loan_stewarship3_em
				has_character_modifier = rtp_loan_stewarship4_em
			}
		}

		allow = {
			OR = {
				AND = {
					rtp_is_landless = yes
					wealth = 50
				}
				AND = {
					rtp_is_baron = yes
					wealth = 100
				}
				AND = {
					tier = COUNT
					wealth = 150
					rtp_is_landless = no
					rtp_is_baron = no
				}
				AND = {
					higher_tier_than = COUNT
					wealth = 200
					rtp_is_landless = no
					rtp_is_baron = no
				}
			}
		}

		effect = {
			if = {
				limit = {
					rtp_is_landless = yes
				}
				wealth = -50
			}
			else_if = {
				limit = {
					rtp_is_baron = yes
				}
				wealth = -100
			}
			else_if = {
				limit = {
					tier = COUNT
				}
				wealth = -150
			}
			else = {
				wealth = -200
			}

			hidden_tooltip = {
				remove_character_modifier = rtp_loan_stewarship1_em
				remove_character_modifier = rtp_loan_stewarship2_em
				remove_character_modifier = rtp_loan_stewarship3_em
				remove_character_modifier = rtp_loan_stewarship4_em
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

society_decisions = {
	#Level 1 - Take Out A Loan
	rtp_stewardship_p1_sd = {
		is_high_prio = yes

		potential = {
			rtp_is_in_stewardship_society_st = yes
			society_rank = 1
			NOR = {
				has_character_modifier = rtp_loan_stewarship1_em
				has_character_modifier = rtp_loan_stewarship2_em
				has_character_modifier = rtp_loan_stewarship3_em
				has_character_modifier = rtp_loan_stewarship4_em
			}
		}

		allow = {
			rtp_can_use_p1_st = yes
		}

		effect = {
			hidden_tooltip = {
				add_character_modifier = {
					modifier = rtp_used_p1_timer_em
					years = 3
				}
				character_event = {
					id = RTPnotification.1 #Can Use Society Ability
					years = 3
				}
			}

			if = {
				limit = {
					society_rank == 1
				}
				random = {
					chance = 25

					sound_effect = china_grace_gain
	
					if = {
						limit = {
							rtp_is_landless = yes
						}
						wealth = 10
						add_character_modifier = {
							modifier = rtp_loan_stewarship1_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							rtp_is_baron = yes
						}
						wealth = 60
						add_character_modifier = {
							modifier = rtp_loan_stewarship2_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							tier = COUNT
						}
						wealth = 110
						add_character_modifier = {
							modifier = rtp_loan_stewarship3_em
							duration = -1
							inherit = yes
						}
					}
					else = {
						wealth = 160
						add_character_modifier = {
							modifier = rtp_loan_stewarship4_em
							duration = -1
							inherit = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					society_rank == 2
				}
				random = {
					chance = 30

					sound_effect = china_grace_gain
	
					if = {
						limit = {
							rtp_is_landless = yes
						}
						wealth = 20
						add_character_modifier = {
							modifier = rtp_loan_stewarship1_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							rtp_is_baron = yes
						}
						wealth = 70
						add_character_modifier = {
							modifier = rtp_loan_stewarship2_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							tier = COUNT
						}
						wealth = 120
						add_character_modifier = {
							modifier = rtp_loan_stewarship3_em
							duration = -1
							inherit = yes
						}
					}
					else = {
						wealth = 170
						add_character_modifier = {
							modifier = rtp_loan_stewarship4_em
							duration = -1
							inherit = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					society_rank == 3
				}
				random = {
					chance = 35

					sound_effect = china_grace_gain
	
					if = {
						limit = {
							rtp_is_landless = yes
						}
						wealth = 30
						add_character_modifier = {
							modifier = rtp_loan_stewarship1_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							rtp_is_baron = yes
						}
						wealth = 80
						add_character_modifier = {
							modifier = rtp_loan_stewarship2_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							tier = COUNT
						}
						wealth = 130
						add_character_modifier = {
							modifier = rtp_loan_stewarship3_em
							duration = -1
							inherit = yes
						}
					}
					else = {
						wealth = 180
						add_character_modifier = {
							modifier = rtp_loan_stewarship4_em
							duration = -1
							inherit = yes
						}
					}
				}
			}
			else = {
				random = {
					chance = 40

					sound_effect = china_grace_gain
	
					if = {
						limit = {
							rtp_is_landless = yes
						}
						wealth = 50
						add_character_modifier = {
							modifier = rtp_loan_stewarship1_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							rtp_is_baron = yes
						}
						wealth = 100
						add_character_modifier = {
							modifier = rtp_loan_stewarship2_em
							duration = -1
							inherit = yes
						}
					}
					else_if = {
						limit = {
							tier = COUNT
						}
						wealth = 150
						add_character_modifier = {
							modifier = rtp_loan_stewarship3_em
							duration = -1
							inherit = yes
						}
					}
					else = {
						wealth = 200
						add_character_modifier = {
							modifier = rtp_loan_stewarship4_em
							duration = -1
							inherit = yes
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0
				war = no
			}
			modifier = {
				factor = 0
				war = yes
				wealth = 10
			}
		}
	}

	#Level 2 - Open Business
	rtp_stewardship_p2_sd = {
		is_high_prio = yes

		potential = {
			society_rank = 2
			rtp_is_in_stewardship_society_st = yes
		}

		allow = {
			rtp_can_use_p2_st = yes
		}

		effect = {
			hidden_tooltip = {
				add_character_modifier = {
					modifier = rtp_used_p2_timer_em
					years = 6
				}
				character_event = {
					id = RTPnotification.1 #Can Use Society Ability
					years = 6
				}
			}

			if = {
				limit = {
					society_rank == 2
				}
				random = {
					chance = 30

					sound_effect = narrative_event
	
					if = {
						limit = {
							NOT = {
								trait = shrewd
							}
						}
						add_trait = shrewd
					}
					else_if = {
						limit = {
							NOR = {
								trait = sympathy_abrahamics
								trait = sympathy_anatolians
								trait = sympathy_arabpagans
								trait = sympathy_aztecs
								trait = sympathy_baltics
								trait = sympathy_bantus
								trait = sympathy_berbers
								trait = sympathy_buddhists
								trait = sympathy_celtics
								trait = sympathy_chinese
								trait = sympathy_christendom
								trait = sympathy_east_africans
								trait = sympathy_egyptian
								trait = sympathy_finnish
								trait = sympathy_graecoroman
								trait = sympathy_indian
								trait = sympathy_indohellens
								trait = sympathy_intis
								trait = sympathy_inuit
								trait = sympathy_judaism
								trait = sympathy_luwians
								trait = sympathy_mande
								trait = sympathy_manichaeans
								trait = sympathy_mithraics
								trait = sympathy_islam
								trait = sympathy_platonics
								trait = sympathy_nordic
								trait = sympathy_pagans
								trait = sympathy_palmyrans
								trait = sympathy_sererics
								trait = sympathy_slavics
								trait = sympathy_sol
								trait = sympathy_tengri
								trait = sympathy_yazd
								trait = sympathy_zal
								trait = sympathy_zoroastrianism
								trait = sympathy_african
							}
						}
						random_list = {
							100 = {
								if = {
									limit = {
										NOT = { religion_group = abrahamic_group }
									}
									add_trait = sympathy_abrahamics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = anatolian_group }
									}
									add_trait = sympathy_anatolians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = arabpagan_group }
									}
									add_trait = sympathy_arabpagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = aztec_group }
									}
									add_trait = sympathy_aztecs
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = baltic_group }
									}
									add_trait = sympathy_baltics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bantu_group }
									}
									add_trait = sympathy_bantus
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = berberpagan_group }
									}
									add_trait = sympathy_berbers
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bud_group }
									}
									add_trait = sympathy_buddhists
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = celtic_group }
									}
									add_trait = sympathy_celtics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = chinese_group }
									}
									add_trait = sympathy_chinese
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = christian }
									}
									add_trait = sympathy_christendom
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = east_african_group }
									}
									add_trait = sympathy_east_africans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = egyptian_group }
									}
									add_trait = sympathy_egyptian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = finnish_group }
									}
									add_trait = sympathy_finnish
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = graecoroman_group }
									}
									add_trait = sympathy_graecoroman
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indian_group }
									}
									add_trait = sympathy_indian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indohelen_group }
									}
									add_trait = sympathy_indohellens
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inti_group }
									}
									add_trait = sympathy_intis
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inuit_group }
									}
									add_trait = sympathy_inuit
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = jewish_group }
									}
									add_trait = sympathy_judaism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = luwian_group }
									}
									add_trait = sympathy_luwians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mand_group }
									}
									add_trait = sympathy_mande
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mani_group }
									}
									add_trait = sympathy_manichaeans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mithra_group }
									}
									add_trait = sympathy_mithraics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = muslim }
									}
									add_trait = sympathy_islam
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = neoplato_group }
									}
									add_trait = sympathy_platonics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = norsegerman_group }
									}
									add_trait = sympathy_nordic
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = pagan_group }
									}
									add_trait = sympathy_pagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = palmyranpagan_group }
									}
									add_trait = sympathy_palmyrans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = serer_group }
									}
									add_trait = sympathy_sererics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = slavic_group }
									}
									add_trait = sympathy_slavics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = sol_group }
									}
									add_trait = sympathy_sol
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = tengri_group }
									}
									add_trait = sympathy_tengri
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = yazd_group }
									}
									add_trait = sympathy_yazd
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zal_group }
									}
									add_trait = sympathy_zal
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zoroastrian_group }
									}
									add_trait = sympathy_zoroastrianism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = african_group }
									}
									add_trait = sympathy_african
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
						}
					}
					else = {
						add_character_modifier = {
							modifier = rtp_tolerance_em
							duration = -1
							stacking = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					society_rank == 3
				}
				random = {
					chance = 35

					sound_effect = narrative_event
	
					if = {
						limit = {
							NOT = {
								trait = shrewd
							}
						}
						add_trait = shrewd
					}
					else_if = {
						limit = {
							NOR = {
								trait = sympathy_abrahamics
								trait = sympathy_anatolians
								trait = sympathy_arabpagans
								trait = sympathy_aztecs
								trait = sympathy_baltics
								trait = sympathy_bantus
								trait = sympathy_berbers
								trait = sympathy_buddhists
								trait = sympathy_celtics
								trait = sympathy_chinese
								trait = sympathy_christendom
								trait = sympathy_east_africans
								trait = sympathy_egyptian
								trait = sympathy_finnish
								trait = sympathy_graecoroman
								trait = sympathy_indian
								trait = sympathy_indohellens
								trait = sympathy_intis
								trait = sympathy_inuit
								trait = sympathy_judaism
								trait = sympathy_luwians
								trait = sympathy_mande
								trait = sympathy_manichaeans
								trait = sympathy_mithraics
								trait = sympathy_islam
								trait = sympathy_platonics
								trait = sympathy_nordic
								trait = sympathy_pagans
								trait = sympathy_palmyrans
								trait = sympathy_sererics
								trait = sympathy_slavics
								trait = sympathy_sol
								trait = sympathy_tengri
								trait = sympathy_yazd
								trait = sympathy_zal
								trait = sympathy_zoroastrianism
								trait = sympathy_african
							}
						}
						random_list = {
							100 = {
								if = {
									limit = {
										NOT = { religion_group = abrahamic_group }
									}
									add_trait = sympathy_abrahamics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = anatolian_group }
									}
									add_trait = sympathy_anatolians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = arabpagan_group }
									}
									add_trait = sympathy_arabpagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = aztec_group }
									}
									add_trait = sympathy_aztecs
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = baltic_group }
									}
									add_trait = sympathy_baltics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bantu_group }
									}
									add_trait = sympathy_bantus
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = berberpagan_group }
									}
									add_trait = sympathy_berbers
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bud_group }
									}
									add_trait = sympathy_buddhists
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = celtic_group }
									}
									add_trait = sympathy_celtics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = chinese_group }
									}
									add_trait = sympathy_chinese
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = christian }
									}
									add_trait = sympathy_christendom
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = east_african_group }
									}
									add_trait = sympathy_east_africans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = egyptian_group }
									}
									add_trait = sympathy_egyptian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = finnish_group }
									}
									add_trait = sympathy_finnish
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = graecoroman_group }
									}
									add_trait = sympathy_graecoroman
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indian_group }
									}
									add_trait = sympathy_indian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indohelen_group }
									}
									add_trait = sympathy_indohellens
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inti_group }
									}
									add_trait = sympathy_intis
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inuit_group }
									}
									add_trait = sympathy_inuit
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = jewish_group }
									}
									add_trait = sympathy_judaism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = jewish_group }
									}
									add_trait = sympathy_judaism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = luwian_group }
									}
									add_trait = sympathy_luwians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mand_group }
									}
									add_trait = sympathy_mande
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mani_group }
									}
									add_trait = sympathy_manichaeans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mithra_group }
									}
									add_trait = sympathy_mithraics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = muslim }
									}
									add_trait = sympathy_islam
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = neoplato_group }
									}
									add_trait = sympathy_platonics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = norsegerman_group }
									}
									add_trait = sympathy_nordic
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = pagan_group }
									}
									add_trait = sympathy_pagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = palmyranpagan_group }
									}
									add_trait = sympathy_palmyrans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = serer_group }
									}
									add_trait = sympathy_sererics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = slavic_group }
									}
									add_trait = sympathy_slavics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = sol_group }
									}
									add_trait = sympathy_sol
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = tengri_group }
									}
									add_trait = sympathy_tengri
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = yazd_group }
									}
									add_trait = sympathy_yazd
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zal_group }
									}
									add_trait = sympathy_zal
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zoroastrian_group }
									}
									add_trait = sympathy_zoroastrianism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = african_group }
									}
									add_trait = sympathy_african
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
						}
					}
					else = {
						add_character_modifier = {
							modifier = rtp_tolerance_em
							duration = -1
							stacking = yes
						}
					}
				}
			}
			else = {
				random = {
					chance = 40

					sound_effect = narrative_event
	
					if = {
						limit = {
							NOT = {
								trait = shrewd
							}
						}
						add_trait = shrewd
					}
					else_if = {
						limit = {
							NOR = {
								trait = sympathy_abrahamics
								trait = sympathy_anatolians
								trait = sympathy_arabpagans
								trait = sympathy_aztecs
								trait = sympathy_baltics
								trait = sympathy_bantus
								trait = sympathy_berbers
								trait = sympathy_buddhists
								trait = sympathy_celtics
								trait = sympathy_chinese
								trait = sympathy_christendom
								trait = sympathy_east_africans
								trait = sympathy_egyptian
								trait = sympathy_finnish
								trait = sympathy_graecoroman
								trait = sympathy_indian
								trait = sympathy_indohellens
								trait = sympathy_intis
								trait = sympathy_inuit
								trait = sympathy_judaism
								trait = sympathy_luwians
								trait = sympathy_mande
								trait = sympathy_manichaeans
								trait = sympathy_mithraics
								trait = sympathy_islam
								trait = sympathy_platonics
								trait = sympathy_nordic
								trait = sympathy_pagans
								trait = sympathy_palmyrans
								trait = sympathy_sererics
								trait = sympathy_slavics
								trait = sympathy_sol
								trait = sympathy_tengri
								trait = sympathy_yazd
								trait = sympathy_zal
								trait = sympathy_zoroastrianism
								trait = sympathy_african
							}
						}
						random_list = {
							100 = {
								if = {
									limit = {
										NOT = { religion_group = abrahamic_group }
									}
									add_trait = sympathy_abrahamics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = anatolian_group }
									}
									add_trait = sympathy_anatolians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = arabpagan_group }
									}
									add_trait = sympathy_arabpagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = aztec_group }
									}
									add_trait = sympathy_aztecs
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = baltic_group }
									}
									add_trait = sympathy_baltics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bantu_group }
									}
									add_trait = sympathy_bantus
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = berberpagan_group }
									}
									add_trait = sympathy_berbers
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = bud_group }
									}
									add_trait = sympathy_buddhists
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = celtic_group }
									}
									add_trait = sympathy_celtics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = chinese_group }
									}
									add_trait = sympathy_chinese
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = christian }
									}
									add_trait = sympathy_christendom
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = east_african_group }
									}
									add_trait = sympathy_east_africans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = egyptian_group }
									}
									add_trait = sympathy_egyptian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = finnish_group }
									}
									add_trait = sympathy_finnish
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = graecoroman_group }
									}
									add_trait = sympathy_graecoroman
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indian_group }
									}
									add_trait = sympathy_indian
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = indohelen_group }
									}
									add_trait = sympathy_indohellens
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inti_group }
									}
									add_trait = sympathy_intis
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = inuit_group }
									}
									add_trait = sympathy_inuit
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = jewish_group }
									}
									add_trait = sympathy_judaism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = jewish_group }
									}
									add_trait = sympathy_judaism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = luwian_group }
									}
									add_trait = sympathy_luwians
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mand_group }
									}
									add_trait = sympathy_mande
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mani_group }
									}
									add_trait = sympathy_manichaeans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = mithra_group }
									}
									add_trait = sympathy_mithraics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = muslim }
									}
									add_trait = sympathy_islam
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = neoplato_group }
									}
									add_trait = sympathy_platonics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = norsegerman_group }
									}
									add_trait = sympathy_nordic
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = pagan_group }
									}
									add_trait = sympathy_pagans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = palmyranpagan_group }
									}
									add_trait = sympathy_palmyrans
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = serer_group }
									}
									add_trait = sympathy_sererics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = slavic_group }
									}
									add_trait = sympathy_slavics
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = sol_group }
									}
									add_trait = sympathy_sol
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = tengri_group }
									}
									add_trait = sympathy_tengri
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = yazd_group }
									}
									add_trait = sympathy_yazd
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zal_group }
									}
									add_trait = sympathy_zal
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = zoroastrian_group }
									}
									add_trait = sympathy_zoroastrianism
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
							100 = {
								if = {
									limit = {
										NOT = { religion_group = african_group }
									}
									add_trait = sympathy_african
								}
								else = {
									add_character_modifier = {
										modifier = rtp_tolerance_em
										duration = -1
										stacking = yes
									}
								}
							}
						}
					}
					else = {
						add_character_modifier = {
							modifier = rtp_tolerance_em
							duration = -1
							stacking = yes
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Level 3 - Time Is Money
	rtp_stewardship_p3_sd = {
		is_high_prio = yes

		potential = {
			society_rank = 3
			rtp_is_in_stewardship_society_st = yes
		}

		allow = {
			rtp_can_use_p3_st = yes
		}

		effect = {
			hidden_tooltip = {
				add_character_modifier = {
					modifier = rtp_used_p3_timer_em
					years = 9
				}
				character_event = {
					id = RTPnotification.1 #Can Use Society Ability
					years = 9
				}
			}

			if = {
				limit = {
					society_rank == 3
				}
				random = {
					chance = 35

					sound_effect = province_event
	
					add_character_modifier = {
						modifier = rtp_toll_booth_em
						years = 5
					}
				}
			}
			else = {
				random = {
					chance = 40

					sound_effect = province_event
	
					add_character_modifier = {
						modifier = rtp_toll_booth_em
						years = 5
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Level 4 - Death And Taxes
	rtp_stewardship_p4_sd = {
		is_high_prio = yes

		potential = {
			rtp_is_in_stewardship_society_st = yes
			society_rank = 4
		}

		allow = {
			rtp_can_use_p4_st = yes
			num_of_society_members > 1
		}

		effect = {
			hidden_tooltip = {
				add_character_modifier = {
					modifier = rtp_used_p4_timer_em
					years = 12
				}
				character_event = {
					id = RTPnotification.1 #Can Use Society Ability
					years = 12
				}
			}

			random = {
				chance = 40

				sound_effect = power_death_and_taxes

				society = {
					any_society_member = {
						limit = {
							wealth = 5
							war = no
						}
						random = {
							chance = 25

							wealth = -5
							ROOT = {
								wealth = 5
							}
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	#Level 4 - Become Republic
	rtp_stewardship_republic_sd = {
		is_high_prio = yes
		ai_check_interval = 60
		only_playable = yes
		
		potential = {
			is_tribal = no
			is_nomadic = no
			mercenary = no
			holy_order = no
			controls_religion = no
			is_landed = yes
			rtp_is_republic_government = no
			rtp_is_in_stewardship_society_st = yes
			society_rank = 4
			NOT = {
				has_character_flag = rtp_switched_government #Already switched your government
			}
			NAND = {
				controls_religion = yes
				NOT = {
					religion_group = muslim
				}
			}
		}

		allow = {
			rtp_is_capable_adult = yes
			higher_tier_than = BARON
		}

		effect = {
			sound_effect = bloodline_added

			custom_tooltip = {
				text = "rtp_become_republic_ct"
				clr_character_flag = rtp_mercenary #This guy is a mercenary
				clr_character_flag = rtp_holy_order #This guy is a holy order
				clr_character_flag = rtp_confederation #This guy is a confederation
				clr_character_flag = rtp_theocracy #This guy is a theocracy
				set_character_flag = rtp_republic #This guy is a republic

				if = {
					limit = {
						is_patrician = yes
					}
					create_character = {
						age = 20
						dynasty = random
						random_traits = yes
						female = no
						religion = ROOT
						culture = ROOT
					}
					new_character = {
						save_event_target_as = rtp_new_patrician_house #The new family
					}
					any_demesne_title = {
						limit = {
							holding_type = family_palace
						}
						grant_title_no_opinion = event_target:rtp_new_patrician_house #The new family
					}
				}

				if = {
					limit = {
						ai = no
					}
					set_government_type = rtp_republic_g
					any_demesne_title = {
						add_law = {
							law = rtp_republic_election_succ
							cooldown = no
							opinion_effect = no
						}
					}
				}
				else = {
					set_government_type = republic_government
					any_demesne_title = {
						add_law = {
							law = succ_open_elective
							cooldown = no
							opinion_effect = no
						}
					}
				}
				
				capital_holding = {
					convert_to = city
					refill_holding_levy = yes
				}

				set_character_flag = rtp_switched_government #Already switched your government
			}
		}

		ai_will_do = {
			factor = 0.01

			modifier = {
				factor = 0

				higher_tier_than = COUNT
			}
		}
	}

	#Level 4 - Become Merchant Republic
	rtp_stewardship_merchant_republic_sd = {
		is_high_prio = yes
		ai_check_interval = 60
		only_playable = yes
		
		potential = {
			is_tribal = no
			is_nomadic = no
			mercenary = no
			holy_order = no
			controls_religion = no
			is_landed = yes
			rtp_is_in_stewardship_society_st = yes
			society_rank = 4
			NOR = {
				has_character_flag = rtp_switched_government #Already switched your government
				government = merchant_republic_government
				government = rtp_privateer_g
			}
			liege = {
				NOR = {
					government = merchant_republic_government
					government = rtp_privateer_g
				}
			}
		}

		allow = {
			rtp_is_capable_adult = yes
			higher_tier_than = COUNT
			any_demesne_province = {
				port = yes
			}
		}

		effect = {
			sound_effect = bloodline_added

			custom_tooltip = {
				text = "rtp_become_merchant_republic_ct"
				clr_character_flag = rtp_mercenary #This guy is a mercenary
				clr_character_flag = rtp_holy_order #This guy is a holy order
				clr_character_flag = rtp_confederation #This guy is a confederation
				clr_character_flag = rtp_theocracy #This guy is a theocracy
				clr_character_flag = rtp_republic #This guy is a republic

				capital_holding = {
					convert_to = city
					refill_holding_levy = yes
				}

				create_family_palace = yes
				set_government_type = merchant_republic_government
				set_character_flag = rtp_switched_government #Already switched your government
			}
		}

		ai_will_do = {
			factor = 0.01
		}
	}
}